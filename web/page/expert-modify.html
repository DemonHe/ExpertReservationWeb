<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>专家</title>

    <link rel="stylesheet" href="../css/global.css"/>
    <link rel="stylesheet" href="../css/basic.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../css/expert-info.css">
</head>
<body>

<div class="container">
    <h4 class="title">修改专家信息</h4>
    <div class="input-container">
        <input type="text" id="name" class="form-control text-input expert-name" placeholder="专家姓名">
        <input type="text" id="phone" class="form-control text-input expert-phone" placeholder="专家电话">
        <input type="text" id="email" class="form-control text-input expert-email" placeholder="专家邮箱">
        <input type="text" id="nationality" class="form-control text-input expert-nationality" placeholder="专家国籍">
        <input type="text" id="school" class="form-control text-input expert-school" placeholder="专家学校">
        <input type="text" id="specialty" class="form-control text-input expert-specialty" placeholder="专家专业">
        <input type="text" id="title" class="form-control text-input expert-title" placeholder="专家职称">
        <input type="text" id="website" class="form-control text-input expert-website" placeholder="介绍网址">
        <textarea class="form-control text-input expert-description" id="description" placeholder="专家简介"></textarea>
    </div>

    <div class="button-container">
        <button class="btn btn-primary button" id="modify">修改</button>
        <button class="btn btn-default button button-cancel" id="cancel">取消</button>
        <button class="btn btn-default button button-cancel" id="return">返回</button>
    </div>
</div>
<div id="tip"></div>

<script src="../js/jquery-3.3.1.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/expert.js"></script>
<script src="../js/util.js"></script>
<script>
    function init(attribute) {
        var value = localStorage.getItem(attribute);
        if (value) {
            $('#' + attribute).val(value);
        }
    }

    $('#return').click(function () {
        window.location = 'expert.html';
    });

    $('#cancel').click(function () {
        $('#name').val('');
        $('#phone').val('');
        $('#email').val('');
        $('#nationality').val('');
        $('#school').val('');
        $('#specialty').val('');
        $('#title').val('');
        $('#website').val('');
        $('#description').val('');
    });

    $('#modify').click(function () {
        var expert = {
            name: $('#name').val(),
            phone: $('#phone').val(),
            email: $('#email').val(),
            nationality: $('#nationality').val(),
            school: $('#school').val(),
            specialty: $('#specialty').val(),
            title: $('#title').val(),
            website: $('#website').val(),
            description: $('#description').val()
        };

        var result =modifyExpert(expert);
        if (result.success) {
            showTip($('#tip'), result.message, '#47fa59');
        } else {
            showTip($('#tip'), result.message);
        }
    });

    init('name');
    init('phone');
    init('email');
    init('nationality');
    init('school');
    init('specialty');
    init('title');
    init('website');
    init('description');
</script>
</body>
</html>